<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>GO Time Series</title>
<!-- Example based on http://bl.ocks.org/mbostock/3887118 -->
<!-- Tooltip example from http://www.d3noob.org/2013/01/adding-tooltips-to-d3js-graph.html -->
<head>
<script src="http://d3js.org/d3.v3.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" type=text/css>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css" type=text/css>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

<script src="http://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.6.3/d3-tip.min.js"></script>

<script src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.15/require.min.js"></script>   

<script type="text/javascript">
 'use strict';
    
       
</script>
</head>
    
<style>
body {
  font: 11px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.axis1 path,
.axis1 line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}


.dot {
  stroke: #000;
}

div.tooltip {

                color: #222;
                background: #fff;
                padding: .5em;
                text-shadow: #f5f5f5 0 1px 0;
                border-radius: 2px;
                box-shadow: 0px 0px 2px 0px #a6a6a6;
                opacity: 0.9;
                position: absolute;
            }
            
  .d3-tip {
                line-height: 1;
                font-weight: bold;
                padding: 12px;
                background: rgba(0, 0, 0, 0.8);
                color: #fff;
                border-radius: 2px;
            }

  .loader {
              position: absolute;
              top: 0;
              bottom: 0;
              left: 0;
              right: 0;
              background: rgba(255,255,255,0.8);
              text-align: center;
              z-index: 99;
              display: none;
          }
  .loader p {
                margin-top: 180px;
            }
    path { 
            stroke: steelblue;
            stroke-width: 2;
            fill: none;
        }            
            
        .axis path,
        .axis line {
            fill: none;
            stroke: grey;
            stroke-width: 1;
            shape-rendering: crispEdges;
        }

        .brush .extent {
            stroke: #fff;
            fill-opacity: .125;
            shape-rendering: crispEdges;
        }     

    span.glyphicon-info-sign{
      font-size:1.5em;
    }  

</style>
<body>
  <div class="btn-group">
    <a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#">Select a method<span class="caret"></span></a>
    <ul class="dropdown-menu">
      <li><a href="#">Changepoint Detection</a></li>
      <li><a href="#">ARIMA</a></li>
      <li><a href="#">Seasonal Trend Decomposition</a></li>
      <li><a href="#">Moving average</a></li>
      <li class="divider"></li>
      <li><a href="#">Other</a></li>
    </ul>
  </div>

Select Target Geography:
<div class="btn-group">
<a class="dropdown-toggle" data-toggle="dropdown" href="#">
<select class="form-control" id="id_comparison" name="comparison" multiple>
<option value="dc">dc</option>
<option value="baltimore">baltimore</option>
<option value="abilene">abilene</option>
<option value="akroncanton">akroncanton</option>
<option value="albany">albany</option>
<option value="albanyga">albanyga</option>
<option value="albuquerque">albuquerque</option>
<option value="alexandria">alexandria</option>
<option value="allentown">allentown</option>
<option value="altoona">altoona</option>
<option value="amarillo">amarillo</option>
<option value="anchorage">anchorage</option>
<option value="annapolis">annapolis</option>
<option value="annarbor">annarbor</option>
<option value="appleton">appleton</option>
<option value="arlington">arlington</option>
<option value="asheville">asheville</option>
<option value="athensga">athensga</option>
<option value="athensoh">athensoh</option>
<option value="atlanta">atlanta</option>
<option value="auburn">auburn</option>
<option value="augusta">augusta</option>
<option value="austin">austin</option>
<option value="bakersfield">bakersfield</option>
<option value="baltimore">baltimore</option>
<option value="batonrouge">batonrouge</option>
<option value="battlecreek">battlecreek</option>
<option value="beaumont">beaumont</option>
<option value="bellingham">bellingham</option>
<option value="bend">bend</option>
<option value="bigisland">bigisland</option>
<option value="biloxi">biloxi</option>
<option value="binghamton">binghamton</option>
<option value="birmingham">birmingham</option>
<option value="bismarck">bismarck</option>
<option value="blacksburg">blacksburg</option>
<option value="bloomington">bloomington</option>
<option value="bloomingtonin">bloomingtonin</option>
<option value="boulder">boulder</option>
<option value="bowlinggreen">bowlinggreen</option>
<option value="brownsville">brownsville</option>
<option value="buffalo">buffalo</option>
<option value="capecod">capecod</option>
<option value="carbondale">carbondale</option>
<option value="catskills">catskills</option>
<option value="cedarrapids">cedarrapids</option>
<option value="centraljersey">centraljersey</option>
<option value="centralmich">centralmich</option>
<option value="chambana">chambana</option>
<option value="charleston">charleston</option>
<option value="charlestonwv">charlestonwv</option>
<option value="charlotte">charlotte</option>
<option value="charlottesville">charlottesville</option>
<option value="chattanooga">chattanooga</option>
<option value="chesapeake">chesapeake</option>
<option value="chicago">chicago</option>
<option value="chico">chico</option>
<option value="chillicothe">chillicothe</option>
<option value="cincinnati">cincinnati</option>
<option value="clarksville">clarksville</option>
<option value="cleveland">cleveland</option>
<option value="clovis">clovis</option>
<option value="collegestation">collegestation</option>
<option value="coloradosprings">coloradosprings</option>
<option value="columbia">columbia</option>
<option value="columbiamo">columbiamo</option>
<option value="columbus">columbus</option>
<option value="columbusga">columbusga</option>
<option value="cookeville">cookeville</option>
<option value="corpuschristi">corpuschristi</option>
<option value="corvallis">corvallis</option>
<option value="cumberlandvalley">cumberlandvalley</option>
<option value="dallas">dallas</option>
<option value="danville">danville</option>
<option value="dayton">dayton</option>
<option value="daytona">daytona</option>
<option value="dc">dc</option>
<option value="decatur">decatur</option>
<option value="delrio">delrio</option>
<option value="denton">denton</option>
<option value="denver">denver</option>
<option value="desmoines">desmoines</option>
<option value="detroit">detroit</option>
<option value="dothan">dothan</option>
<option value="dubuque">dubuque</option>
<option value="duluth">duluth</option>
<option value="eastbay">eastbay</option>
<option value="easternnc">easternnc</option>
<option value="easternshore">easternshore</option>
<option value="eastidaho">eastidaho</option>
<option value="eastky">eastky</option>
<option value="eastoregon">eastoregon</option>
<option value="eauclaire">eauclaire</option>
<option value="elmira">elmira</option>
<option value="elpaso">elpaso</option>
<option value="erie">erie</option>
<option value="eugene">eugene</option>
<option value="evansville">evansville</option>
<option value="everett">everett</option>
<option value="fargo">fargo</option>
<option value="farmington">farmington</option>
<option value="fayetteville">fayetteville</option>
<option value="fayettevillenc">fayettevillenc</option>
<option value="fingerlakes">fingerlakes</option>
<option value="flagstaff">flagstaff</option>
<option value="flint">flint</option>
<option value="florence">florence</option>
<option value="fortcollins">fortcollins</option>
<option value="fortdodge">fortdodge</option>
<option value="fortmyers">fortmyers</option>
<option value="fortsmith">fortsmith</option>
<option value="fortwayne">fortwayne</option>
<option value="fortworth">fortworth</option>
<option value="frederick">frederick</option>
<option value="fredericksburg">fredericksburg</option>
<option value="fresno">fresno</option>
<option value="ftlauderdale">ftlauderdale</option>
<option value="gadsden">gadsden</option>
<option value="gainesville">gainesville</option>
<option value="galveston">galveston</option>
<option value="grandforks">grandforks</option>
<option value="grandisland">grandisland</option>
<option value="grandrapids">grandrapids</option>
<option value="greenbay">greenbay</option>
<option value="greensboro">greensboro</option>
<option value="greenville">greenville</option>
<option value="hampton">hampton</option>
<option value="harrisburg">harrisburg</option>
<option value="harrisonburg">harrisonburg</option>
<option value="hartford">hartford</option>
<option value="hattiesburg">hattiesburg</option>
<option value="hickory">hickory</option>
<option value="hiltonhead">hiltonhead</option>
<option value="honolulu">honolulu</option>
<option value="houma">houma</option>
<option value="houston">houston</option>
<option value="hudsonvalley">hudsonvalley</option>
<option value="humboldt">humboldt</option>
<option value="huntington">huntington</option>
<option value="huntingtonoh">huntingtonoh</option>
<option value="huntsville">huntsville</option>
<option value="huntsvilletx">huntsvilletx</option>
<option value="imperial">imperial</option>
<option value="indianapolis">indianapolis</option>
<option value="inlandempire">inlandempire</option>
<option value="iowacity">iowacity</option>
<option value="ithaca">ithaca</option>
<option value="jackson">jackson</option>
<option value="jacksonmi">jacksonmi</option>
<option value="jacksonville">jacksonville</option>
<option value="janesville">janesville</option>
<option value="jerseyshore">jerseyshore</option>
<option value="jonesboro">jonesboro</option>
<option value="joplin">joplin</option>
<option value="kalamazoo">kalamazoo</option>
<option value="kauai">kauai</option>
<option value="kc">kc</option>
<option value="keys">keys</option>
<option value="killeen">killeen</option>
<option value="klamath">klamath</option>
<option value="knoxville">knoxville</option>
<option value="kokomo">kokomo</option>
<option value="lacrosse">lacrosse</option>
<option value="lafayette">lafayette</option>
<option value="lakecharles">lakecharles</option>
<option value="lakeland">lakeland</option>
<option value="lansing">lansing</option>
<option value="laredo">laredo</option>
<option value="lasalle">lasalle</option>
<option value="lascruces">lascruces</option>
<option value="lasvegas">lasvegas</option>
<option value="lawrence">lawrence</option>
<option value="lawton">lawton</option>
<option value="lewiston">lewiston</option>
<option value="lexington">lexington</option>
<option value="limaoh">limaoh</option>
<option value="lincoln">lincoln</option>
<option value="littlerock">littlerock</option>
<option value="logan">logan</option>
<option value="longbeach">longbeach</option>
<option value="longisland">longisland</option>
<option value="losangeles">losangeles</option>
<option value="louisville">louisville</option>
<option value="loz">loz</option>
<option value="lubbock">lubbock</option>
<option value="lynchburg">lynchburg</option>
<option value="macon">macon</option>
<option value="madison">madison</option>
<option value="manhattanks">manhattanks</option>
<option value="mankato">mankato</option>
<option value="mansfield">mansfield</option>
<option value="masoncity">masoncity</option>
<option value="maui">maui</option>
<option value="mcallen">mcallen</option>
<option value="medford">medford</option>
<option value="memphis">memphis</option>
<option value="merced">merced</option>
<option value="meridian">meridian</option>
<option value="miami">miami</option>
<option value="milwaukee">milwaukee</option>
<option value="minneapolis">minneapolis</option>
<option value="minot">minot</option>
<option value="mobile">mobile</option>
<option value="modesto">modesto</option>
<option value="mohave">mohave</option>
<option value="monroe">monroe</option>
<option value="monroemi">monroemi</option>
<option value="monterey">monterey</option>
<option value="montgomery">montgomery</option>
<option value="morgantown">morgantown</option>
<option value="moseslake">moseslake</option>
<option value="mtvernon">mtvernon</option>
<option value="muncie">muncie</option>
<option value="muskegon">muskegon</option>
<option value="myrtlebeach">myrtlebeach</option>
<option value="nashville">nashville</option>
<option value="newhaven">newhaven</option>
<option value="newlondon">newlondon</option>
<option value="neworleans">neworleans</option>
<option value="newportnews">newportnews</option>
<option value="norfolk">norfolk</option>
<option value="northbay">northbay</option>
<option value="northernmichigan">northernmichigan</option>
<option value="northjersey">northjersey</option>
<option value="northmiss">northmiss</option>
<option value="northplatte">northplatte</option>
<option value="nova" selected="selected">nova</option>
<option value="nwct">nwct</option>
<option value="nwga">nwga</option>
<option value="ocala">ocala</option>
<option value="odessa">odessa</option>
<option value="ogden">ogden</option>
<option value="oklahomacity">oklahomacity</option>
<option value="olympia">olympia</option>
<option value="omaha">omaha</option>
<option value="orangecounty">orangecounty</option>
<option value="oregoncoast">oregoncoast</option>
<option value="orlando">orlando</option>
<option value="ottumwa">ottumwa</option>
<option value="outerbanks">outerbanks</option>
<option value="owensboro">owensboro</option>
<option value="palmdale">palmdale</option>
<option value="palmsprings">palmsprings</option>
<option value="panamacity">panamacity</option>
<option value="parkersburg">parkersburg</option>
<option value="pennstate">pennstate</option>
<option value="pensacola">pensacola</option>
<option value="peoria">peoria</option>
<option value="philadelphia">philadelphia</option>
<option value="phoenix">phoenix</option>
<option value="pittsburgh">pittsburgh</option>
<option value="plattsburgh">plattsburgh</option>
<option value="poconos">poconos</option>
<option value="porthuron">porthuron</option>
<option value="portland">portland</option>
<option value="portsmouth">portsmouth</option>
<option value="prescott">prescott</option>
<option value="provo">provo</option>
<option value="pueblo">pueblo</option>
<option value="pullman">pullman</option>
<option value="quadcities">quadcities</option>
<option value="quincy">quincy</option>
<option value="racine">racine</option>
<option value="raleigh">raleigh</option>
<option value="redding">redding</option>
<option value="reno">reno</option>
<option value="richmond">richmond</option>
<option value="richmondin">richmondin</option>
<option value="roanoke">roanoke</option>
<option value="rochester">rochester</option>
<option value="rochestermn">rochestermn</option>
<option value="rockford">rockford</option>
<option value="rockies">rockies</option>
<option value="roseburg">roseburg</option>
<option value="roswell">roswell</option>
<option value="sacramento">sacramento</option>
<option value="saginaw">saginaw</option>
<option value="salem">salem</option>
<option value="saltlakecity">saltlakecity</option>
<option value="sanantonio">sanantonio</option>
<option value="sandiego">sandiego</option>
<option value="sandusky">sandusky</option>
<option value="sanfernandovalley">sanfernandovalley</option>
<option value="sangabrielvalley">sangabrielvalley</option>
<option value="sanjose">sanjose</option>
<option value="sanluisobispo">sanluisobispo</option>
<option value="sanmarcos">sanmarcos</option>
<option value="sanmateo">sanmateo</option>
<option value="santabarbara">santabarbara</option>
<option value="santacruz">santacruz</option>
<option value="santafe">santafe</option>
<option value="santamaria">santamaria</option>
<option value="sarasota">sarasota</option>
<option value="savannah">savannah</option>
<option value="scranton">scranton</option>
<option value="seattle">seattle</option>
<option value="semo">semo</option>
<option value="sf">sf</option>
<option value="sheboygan">sheboygan</option>
<option value="shreveport">shreveport</option>
<option value="sierravista">sierravista</option>
<option value="siouxcity">siouxcity</option>
<option value="siskiyou">siskiyou</option>
<option value="southbend">southbend</option>
<option value="southcoast">southcoast</option>
<option value="southernmaryland">southernmaryland</option>
<option value="southernwestvirginia">southernwestvirginia</option>
<option value="southjersey">southjersey</option>
<option value="spacecoast">spacecoast</option>
<option value="spokane">spokane</option>
<option value="springfieldil">springfieldil</option>
<option value="springfieldmo">springfieldmo</option>
<option value="statesboro">statesboro</option>
<option value="stcloud">stcloud</option>
<option value="stgeorge">stgeorge</option>
<option value="stillwater">stillwater</option>
<option value="stjoseph">stjoseph</option>
<option value="stlouis">stlouis</option>
<option value="stockton">stockton</option>
<option value="suffolk">suffolk</option>
<option value="swmi">swmi</option>
<option value="swva">swva</option>
<option value="syracuse">syracuse</option>
<option value="tacoma">tacoma</option>
<option value="tallahassee">tallahassee</option>
<option value="tampa">tampa</option>
<option value="terrehaute">terrehaute</option>
<option value="texarkana">texarkana</option>
<option value="texoma">texoma</option>
<option value="tippecanoe">tippecanoe</option>
<option value="toledo">toledo</option>
<option value="topeka">topeka</option>
<option value="treasurecoast">treasurecoast</option>
<option value="tricities">tricities</option>
<option value="tricitieswa">tricitieswa</option>
<option value="tucson">tucson</option>
<option value="tulsa">tulsa</option>
<option value="tuscaloosa">tuscaloosa</option>
<option value="tuscarawas">tuscarawas</option>
<option value="twinfalls">twinfalls</option>
<option value="twintiers">twintiers</option>
<option value="tyler">tyler</option>
<option value="up">up</option>
<option value="utica">utica</option>
<option value="valdosta">valdosta</option>
<option value="ventura">ventura</option>
<option value="victoriatx">victoriatx</option>
<option value="virginiabeach">virginiabeach</option>
<option value="visalia">visalia</option>
<option value="waco">waco</option>
<option value="waterloo">waterloo</option>
<option value="watertown">watertown</option>
<option value="wausau">wausau</option>
<option value="wenatchee">wenatchee</option>
<option value="westchester">westchester</option>
<option value="westernmaryland">westernmaryland</option>
<option value="westky">westky</option>
<option value="westpalmbeach">westpalmbeach</option>
<option value="westslope">westslope</option>
<option value="wheeling">wheeling</option>
<option value="wichita">wichita</option>
<option value="wichitafalls">wichitafalls</option>
<option value="williamsport">williamsport</option>
<option value="wilmington">wilmington</option>
<option value="winstonsalem">winstonsalem</option>
<option value="yakima">yakima</option>
<option value="york">york</option>
<option value="youngstown">youngstown</option>
<option value="yuma">yuma</option>
<option value="zanesville">zanesville</option>
</select>
<a>
</div>
Select Comparison Geography:
<div class="btn-group">
<a class="dropdown-toggle" data-toggle="dropdown" href="#">
<select class="form-control" id="id_comparison" name="comparison" multiple>
<option value="dc" selected="selected">dc</option>
<option value="baltimore" selected="selected">baltimore</option>
<option value="abilene">abilene</option>
<option value="akroncanton">akroncanton</option>
<option value="albany">albany</option>
<option value="albanyga">albanyga</option>
<option value="albuquerque">albuquerque</option>
<option value="alexandria">alexandria</option>
<option value="allentown">allentown</option>
<option value="altoona">altoona</option>
<option value="amarillo">amarillo</option>
<option value="anchorage">anchorage</option>
<option value="annapolis">annapolis</option>
<option value="annarbor">annarbor</option>
<option value="appleton">appleton</option>
<option value="arlington">arlington</option>
<option value="asheville">asheville</option>
<option value="athensga">athensga</option>
<option value="athensoh">athensoh</option>
<option value="atlanta">atlanta</option>
<option value="auburn">auburn</option>
<option value="augusta">augusta</option>
<option value="austin">austin</option>
<option value="bakersfield">bakersfield</option>
<option value="baltimore">baltimore</option>
<option value="batonrouge">batonrouge</option>
<option value="battlecreek">battlecreek</option>
<option value="beaumont">beaumont</option>
<option value="bellingham">bellingham</option>
<option value="bend">bend</option>
<option value="bigisland">bigisland</option>
<option value="biloxi">biloxi</option>
<option value="binghamton">binghamton</option>
<option value="birmingham">birmingham</option>
<option value="bismarck">bismarck</option>
<option value="blacksburg">blacksburg</option>
<option value="bloomington">bloomington</option>
<option value="bloomingtonin">bloomingtonin</option>
<option value="boulder">boulder</option>
<option value="bowlinggreen">bowlinggreen</option>
<option value="brownsville">brownsville</option>
<option value="buffalo">buffalo</option>
<option value="capecod">capecod</option>
<option value="carbondale">carbondale</option>
<option value="catskills">catskills</option>
<option value="cedarrapids">cedarrapids</option>
<option value="centraljersey">centraljersey</option>
<option value="centralmich">centralmich</option>
<option value="chambana">chambana</option>
<option value="charleston">charleston</option>
<option value="charlestonwv">charlestonwv</option>
<option value="charlotte">charlotte</option>
<option value="charlottesville">charlottesville</option>
<option value="chattanooga">chattanooga</option>
<option value="chesapeake">chesapeake</option>
<option value="chicago">chicago</option>
<option value="chico">chico</option>
<option value="chillicothe">chillicothe</option>
<option value="cincinnati">cincinnati</option>
<option value="clarksville">clarksville</option>
<option value="cleveland">cleveland</option>
<option value="clovis">clovis</option>
<option value="collegestation">collegestation</option>
<option value="coloradosprings">coloradosprings</option>
<option value="columbia">columbia</option>
<option value="columbiamo">columbiamo</option>
<option value="columbus">columbus</option>
<option value="columbusga">columbusga</option>
<option value="cookeville">cookeville</option>
<option value="corpuschristi">corpuschristi</option>
<option value="corvallis">corvallis</option>
<option value="cumberlandvalley">cumberlandvalley</option>
<option value="dallas">dallas</option>
<option value="danville">danville</option>
<option value="dayton">dayton</option>
<option value="daytona">daytona</option>
<option value="dc">dc</option>
<option value="decatur">decatur</option>
<option value="delrio">delrio</option>
<option value="denton">denton</option>
<option value="denver">denver</option>
<option value="desmoines">desmoines</option>
<option value="detroit">detroit</option>
<option value="dothan">dothan</option>
<option value="dubuque">dubuque</option>
<option value="duluth">duluth</option>
<option value="eastbay">eastbay</option>
<option value="easternnc">easternnc</option>
<option value="easternshore">easternshore</option>
<option value="eastidaho">eastidaho</option>
<option value="eastky">eastky</option>
<option value="eastoregon">eastoregon</option>
<option value="eauclaire">eauclaire</option>
<option value="elmira">elmira</option>
<option value="elpaso">elpaso</option>
<option value="erie">erie</option>
<option value="eugene">eugene</option>
<option value="evansville">evansville</option>
<option value="everett">everett</option>
<option value="fargo">fargo</option>
<option value="farmington">farmington</option>
<option value="fayetteville">fayetteville</option>
<option value="fayettevillenc">fayettevillenc</option>
<option value="fingerlakes">fingerlakes</option>
<option value="flagstaff">flagstaff</option>
<option value="flint">flint</option>
<option value="florence">florence</option>
<option value="fortcollins">fortcollins</option>
<option value="fortdodge">fortdodge</option>
<option value="fortmyers">fortmyers</option>
<option value="fortsmith">fortsmith</option>
<option value="fortwayne">fortwayne</option>
<option value="fortworth">fortworth</option>
<option value="frederick">frederick</option>
<option value="fredericksburg">fredericksburg</option>
<option value="fresno">fresno</option>
<option value="ftlauderdale">ftlauderdale</option>
<option value="gadsden">gadsden</option>
<option value="gainesville">gainesville</option>
<option value="galveston">galveston</option>
<option value="grandforks">grandforks</option>
<option value="grandisland">grandisland</option>
<option value="grandrapids">grandrapids</option>
<option value="greenbay">greenbay</option>
<option value="greensboro">greensboro</option>
<option value="greenville">greenville</option>
<option value="hampton">hampton</option>
<option value="harrisburg">harrisburg</option>
<option value="harrisonburg">harrisonburg</option>
<option value="hartford">hartford</option>
<option value="hattiesburg">hattiesburg</option>
<option value="hickory">hickory</option>
<option value="hiltonhead">hiltonhead</option>
<option value="honolulu">honolulu</option>
<option value="houma">houma</option>
<option value="houston">houston</option>
<option value="hudsonvalley">hudsonvalley</option>
<option value="humboldt">humboldt</option>
<option value="huntington">huntington</option>
<option value="huntingtonoh">huntingtonoh</option>
<option value="huntsville">huntsville</option>
<option value="huntsvilletx">huntsvilletx</option>
<option value="imperial">imperial</option>
<option value="indianapolis">indianapolis</option>
<option value="inlandempire">inlandempire</option>
<option value="iowacity">iowacity</option>
<option value="ithaca">ithaca</option>
<option value="jackson">jackson</option>
<option value="jacksonmi">jacksonmi</option>
<option value="jacksonville">jacksonville</option>
<option value="janesville">janesville</option>
<option value="jerseyshore">jerseyshore</option>
<option value="jonesboro">jonesboro</option>
<option value="joplin">joplin</option>
<option value="kalamazoo">kalamazoo</option>
<option value="kauai">kauai</option>
<option value="kc">kc</option>
<option value="keys">keys</option>
<option value="killeen">killeen</option>
<option value="klamath">klamath</option>
<option value="knoxville">knoxville</option>
<option value="kokomo">kokomo</option>
<option value="lacrosse">lacrosse</option>
<option value="lafayette">lafayette</option>
<option value="lakecharles">lakecharles</option>
<option value="lakeland">lakeland</option>
<option value="lansing">lansing</option>
<option value="laredo">laredo</option>
<option value="lasalle">lasalle</option>
<option value="lascruces">lascruces</option>
<option value="lasvegas">lasvegas</option>
<option value="lawrence">lawrence</option>
<option value="lawton">lawton</option>
<option value="lewiston">lewiston</option>
<option value="lexington">lexington</option>
<option value="limaoh">limaoh</option>
<option value="lincoln">lincoln</option>
<option value="littlerock">littlerock</option>
<option value="logan">logan</option>
<option value="longbeach">longbeach</option>
<option value="longisland">longisland</option>
<option value="losangeles">losangeles</option>
<option value="louisville">louisville</option>
<option value="loz">loz</option>
<option value="lubbock">lubbock</option>
<option value="lynchburg">lynchburg</option>
<option value="macon">macon</option>
<option value="madison">madison</option>
<option value="manhattanks">manhattanks</option>
<option value="mankato">mankato</option>
<option value="mansfield">mansfield</option>
<option value="masoncity">masoncity</option>
<option value="maui">maui</option>
<option value="mcallen">mcallen</option>
<option value="medford">medford</option>
<option value="memphis">memphis</option>
<option value="merced">merced</option>
<option value="meridian">meridian</option>
<option value="miami">miami</option>
<option value="milwaukee">milwaukee</option>
<option value="minneapolis">minneapolis</option>
<option value="minot">minot</option>
<option value="mobile">mobile</option>
<option value="modesto">modesto</option>
<option value="mohave">mohave</option>
<option value="monroe">monroe</option>
<option value="monroemi">monroemi</option>
<option value="monterey">monterey</option>
<option value="montgomery">montgomery</option>
<option value="morgantown">morgantown</option>
<option value="moseslake">moseslake</option>
<option value="mtvernon">mtvernon</option>
<option value="muncie">muncie</option>
<option value="muskegon">muskegon</option>
<option value="myrtlebeach">myrtlebeach</option>
<option value="nashville">nashville</option>
<option value="newhaven">newhaven</option>
<option value="newlondon">newlondon</option>
<option value="neworleans">neworleans</option>
<option value="newportnews">newportnews</option>
<option value="norfolk">norfolk</option>
<option value="northbay">northbay</option>
<option value="northernmichigan">northernmichigan</option>
<option value="northjersey">northjersey</option>
<option value="northmiss">northmiss</option>
<option value="northplatte">northplatte</option>
<option value="nova">nova</option>
<option value="nwct">nwct</option>
<option value="nwga">nwga</option>
<option value="ocala">ocala</option>
<option value="odessa">odessa</option>
<option value="ogden">ogden</option>
<option value="oklahomacity">oklahomacity</option>
<option value="olympia">olympia</option>
<option value="omaha">omaha</option>
<option value="orangecounty">orangecounty</option>
<option value="oregoncoast">oregoncoast</option>
<option value="orlando">orlando</option>
<option value="ottumwa">ottumwa</option>
<option value="outerbanks">outerbanks</option>
<option value="owensboro">owensboro</option>
<option value="palmdale">palmdale</option>
<option value="palmsprings">palmsprings</option>
<option value="panamacity">panamacity</option>
<option value="parkersburg">parkersburg</option>
<option value="pennstate">pennstate</option>
<option value="pensacola">pensacola</option>
<option value="peoria">peoria</option>
<option value="philadelphia">philadelphia</option>
<option value="phoenix">phoenix</option>
<option value="pittsburgh">pittsburgh</option>
<option value="plattsburgh">plattsburgh</option>
<option value="poconos">poconos</option>
<option value="porthuron">porthuron</option>
<option value="portland">portland</option>
<option value="portsmouth">portsmouth</option>
<option value="prescott">prescott</option>
<option value="provo">provo</option>
<option value="pueblo">pueblo</option>
<option value="pullman">pullman</option>
<option value="quadcities">quadcities</option>
<option value="quincy">quincy</option>
<option value="racine">racine</option>
<option value="raleigh">raleigh</option>
<option value="redding">redding</option>
<option value="reno">reno</option>
<option value="richmond">richmond</option>
<option value="richmondin">richmondin</option>
<option value="roanoke">roanoke</option>
<option value="rochester">rochester</option>
<option value="rochestermn">rochestermn</option>
<option value="rockford">rockford</option>
<option value="rockies">rockies</option>
<option value="roseburg">roseburg</option>
<option value="roswell">roswell</option>
<option value="sacramento">sacramento</option>
<option value="saginaw">saginaw</option>
<option value="salem">salem</option>
<option value="saltlakecity">saltlakecity</option>
<option value="sanantonio">sanantonio</option>
<option value="sandiego">sandiego</option>
<option value="sandusky">sandusky</option>
<option value="sanfernandovalley">sanfernandovalley</option>
<option value="sangabrielvalley">sangabrielvalley</option>
<option value="sanjose">sanjose</option>
<option value="sanluisobispo">sanluisobispo</option>
<option value="sanmarcos">sanmarcos</option>
<option value="sanmateo">sanmateo</option>
<option value="santabarbara">santabarbara</option>
<option value="santacruz">santacruz</option>
<option value="santafe">santafe</option>
<option value="santamaria">santamaria</option>
<option value="sarasota">sarasota</option>
<option value="savannah">savannah</option>
<option value="scranton">scranton</option>
<option value="seattle">seattle</option>
<option value="semo">semo</option>
<option value="sf">sf</option>
<option value="sheboygan">sheboygan</option>
<option value="shreveport">shreveport</option>
<option value="sierravista">sierravista</option>
<option value="siouxcity">siouxcity</option>
<option value="siskiyou">siskiyou</option>
<option value="southbend">southbend</option>
<option value="southcoast">southcoast</option>
<option value="southernmaryland">southernmaryland</option>
<option value="southernwestvirginia">southernwestvirginia</option>
<option value="southjersey">southjersey</option>
<option value="spacecoast">spacecoast</option>
<option value="spokane">spokane</option>
<option value="springfieldil">springfieldil</option>
<option value="springfieldmo">springfieldmo</option>
<option value="statesboro">statesboro</option>
<option value="stcloud">stcloud</option>
<option value="stgeorge">stgeorge</option>
<option value="stillwater">stillwater</option>
<option value="stjoseph">stjoseph</option>
<option value="stlouis">stlouis</option>
<option value="stockton">stockton</option>
<option value="suffolk">suffolk</option>
<option value="swmi">swmi</option>
<option value="swva">swva</option>
<option value="syracuse">syracuse</option>
<option value="tacoma">tacoma</option>
<option value="tallahassee">tallahassee</option>
<option value="tampa">tampa</option>
<option value="terrehaute">terrehaute</option>
<option value="texarkana">texarkana</option>
<option value="texoma">texoma</option>
<option value="tippecanoe">tippecanoe</option>
<option value="toledo">toledo</option>
<option value="topeka">topeka</option>
<option value="treasurecoast">treasurecoast</option>
<option value="tricities">tricities</option>
<option value="tricitieswa">tricitieswa</option>
<option value="tucson">tucson</option>
<option value="tulsa">tulsa</option>
<option value="tuscaloosa">tuscaloosa</option>
<option value="tuscarawas">tuscarawas</option>
<option value="twinfalls">twinfalls</option>
<option value="twintiers">twintiers</option>
<option value="tyler">tyler</option>
<option value="up">up</option>
<option value="utica">utica</option>
<option value="valdosta">valdosta</option>
<option value="ventura">ventura</option>
<option value="victoriatx">victoriatx</option>
<option value="virginiabeach">virginiabeach</option>
<option value="visalia">visalia</option>
<option value="waco">waco</option>
<option value="waterloo">waterloo</option>
<option value="watertown">watertown</option>
<option value="wausau">wausau</option>
<option value="wenatchee">wenatchee</option>
<option value="westchester">westchester</option>
<option value="westernmaryland">westernmaryland</option>
<option value="westky">westky</option>
<option value="westpalmbeach">westpalmbeach</option>
<option value="westslope">westslope</option>
<option value="wheeling">wheeling</option>
<option value="wichita">wichita</option>
<option value="wichitafalls">wichitafalls</option>
<option value="williamsport">williamsport</option>
<option value="wilmington">wilmington</option>
<option value="winstonsalem">winstonsalem</option>
<option value="yakima">yakima</option>
<option value="york">york</option>
<option value="youngstown">youngstown</option>
<option value="yuma">yuma</option>
<option value="zanesville">zanesville</option>
</select>
<a>
</div>

Event Date:
<input id='diffdate' type="date" max="2014-06-01" min="2013-09-01" value="2014-01-01"/>
<a class="external" data-toggle="modal" href="" data-target="#myModal"><span class="glyphicon glyphicon-info-sign"></span></a>



<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
      </div>
      <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div><!-- /.modal -->
<!--<div id="securityBannerTop" style="background-color:green; color:white;width:100%;padding:10px">
            <center><strong>UNCLASSIFIED</strong>
                <br/>For Official Use Only</center>
       </div>
     -->
<br>
<br>
<script type="text/javascript">




$('a.external').on('click', function(e) {
        e.preventDefault();
        var url = $(this).attr('href');
        $(".modal-body").html('<iframe width="100%" height="100%" frameborder="0" scrolling="yes" allowtransparency="true" src="'+url+'"></iframe>');
 
    });
 
    $('#myModal').on('show.bs.modal', function () {
 
        $(this).find('.modal-dialog').css({
                  width:'60%', //choose your width
                  height:'100%', 
                  'padding':'0'
           });
         $(this).find('.modal-content').css({
                  height:'100%', 
                  'border-radius':'0',
                  'padding':'0'
           });
         $(this).find('.modal-body').css({
                  width:'auto',
                  height:'100%', 
                  'padding':'0'
           });
    })


$('container').empty();


function custom_sort(a,b){
  return new Date(a.DateTime)-new Date(b.DateTime);
};
 

var es=[];


<!--var query_url='http://ec2-54-235-4-161.compute-1.amazonaws.com/ocpu/library/rlines/R/quandl_test/json/';-->
var postdata = 'start_date="2010-3-3"&end_date="2014-6-25"';
var query_url='http://ec2-54-235-4-161.compute-1.amazonaws.com/ocpu/library/rlines/R/diffindiff/json/';
var postdata = 'target.region="nova"&comparison.region.set=c("dc","baltimore")&event.date="2014-01-01"';
console.log(query_url)
$.post(query_url,postdata, function(response){
  es=response;



 $(function () {

            requirejs.config({
                "baseUrl": "../js/",
                "paths": {
                    "app": "./",
                    'moment': 'http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.2.1/moment.min',
                    'underscore': 'http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min'             
                }
            });


            require(['app/d3.chart'], function (d3Chart) {

              $(function(){
              $(".dropdown-menu li a").click(function(){
              var selText = $(this).text();
        var query_url;
  $(this).parents('.btn-group').find('.dropdown-toggle').html(selText+' <span class="caret"></span>');
  

d3Chart.removeGraph('raw')
d3Chart.render();
});
});

               

                d3Chart.init({ container: '#container', xDim: 'DateTime' });
                
               
                $("g.graph").remove();
                
                <!--for(var key in Object.keys(es)){-->
                for(var key in ['data']){
                    console.log('about to be in graph loop')
                        console.log(es)
                  <!--es[Object.keys(es)[key]].sort(function(a,b){-->
                  es[Object.keys(es)[key]].sort(function(a,b){
                  return new Date(a.DateTime).getTime() - new Date(b.DateTime).getTime()

                  });
                  console.log(es[Object.keys(es)[key]])
                    console.log('about to make a graph')
                    console.log(Object.keys(es)[key])
                    console.log(es['data'])
                
                d3Chart.addGraph({id: Object.keys(es)[key], type: 'analog', name: Object.keys(es)[key], dataId: 515, yVal: ['Comparison', 'Target'], data: es[Object.keys(es)[key]] });
                //Note: This is the call that happens if nothing is actually selected
                }

               
                <!--d3Chart.reorderGraph('raw','up')-->
                //d3Chart.addGraph({ id: 'DI', type: 'digital', name: 'Digital Input', dataId: 522, data: diData });
         //       d3Chart.addGraph({ id: 'Accel', type: 'analog', name: 'Accel', dataId: 522, yVal: ['X', 'Y', 'Z'], data: accelData });
                d3Chart.render();


               
             

                setTimeout(function () {  
                    //d3Chart.reorderGraph('Accel', 'up');
                    
                    //window.setTimeout(function () {
                    //    d3Chart.removeGraph('RPM');
                    //}, 2000);
                    
                }, 3000);


            });

        });

}, 'json');



</script>
  
      <div id="container" style="min-width: 300px;width:100%">
      <div class="loader">Loading...</div>
    </div>
</body>
</html>
